<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- For testing purposes -->

    <span ln-obfuscator="13"><n uers="Uryyb Jbeyq">Uryyb Jbeyq</n></span>

    <form id="deObfuscate">
      <input type="text" placeholder="Enter text to deObfuscate" />
      <label for="rot">ROT:</label>
      <select id="deObfuscateRot" name="rot">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
      </select>
      <input type="submit" value="deObfuscate" />
    </form>

    <script src="../ln-obfuscator.js" defer></script>
    <script>
      function deObfuscate() {
        let form = document.querySelector("#deObfuscate");
        let submitBtn = document.querySelector("#deObfuscate [type='submit']");
        let input = document.querySelector("#deObfuscate [type='text']");

        form.addEventListener("submit", function (e) {
          e.preventDefault();
          let rot = document.querySelector("#deObfuscateRot");
          let paragraph = document.createElement("p");
          paragraph.setAttribute("ln-obfuscator", rot.value);
          paragraph.innerHTML = input.value;
          document.body.appendChild(paragraph);
          input.value = "";
        });
      }

      deObfuscate();
    </script>
  </body>
</html>
